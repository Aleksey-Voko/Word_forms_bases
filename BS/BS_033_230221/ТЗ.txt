Добрый день! (И с праздником!!!)
Алексей, признаться, мы забуксовали с омонимами.
(Не ожидал, почти под конец проекта столько загруза...)
Сначала я хотел пойти по пути упрощения правил,
но это оказалось не совсем верным решением
(не буду вдаваться в детали, почему).
Теперь же хочу пойти по другому пути
- указать в БС в специальных примечаниях не только слово,
но и полностью всю строку после ".* <" (пусть она займёт хоть километр)
Надеюсь, это упростит для Вас процедуру сравнения...
Что я и сделал. Сделал откат назад, вручную исправил все (надеюсь, что все)
специальные примечания в БС - добавил к словам всю соответствующую спец. инфу
(КРОМЕ этимологических примечаний, которым место только в БГ).

Теперь придётся опять заново пытаться делать пункты,
которые уже пытались делать. Думаю, что опять будут исправления в заданиях.

Высылаю ИЗМЕНЁННЫЕ док-ты:
БГ 23.02.21.txt и
БС 23.02.21.txt .

**********
Для начала мне нужно убедиться, что я исправил все специальные примечания в БС.
Поэтому мне нужен док-т
    Спец. прим. БС. 1 слово.txt
        - список строк ЗС групп или одиночек,
        у которых есть специальное примечание (".* <"),
        состоящее из одного только слова (БЕЗ какой-либо другой инфы).
Напр.
дак                              .* < так


Затем "старые" пункты. (Я извиняюсь: нумерация пунктов шиворот-навыворот...)
В приведённых ниже заданиях ничего НЕ изменено - всё, как раньше.

**********
16. Создать док-т Повторы в группах.txt . Сделать это следующим образом:

16.1. искать в док-те БГ 23.02.21.txt слова (кроме невидимок),
    повторяющиеся в пределах ОДНОЙ И ТОЙ ЖЕ группы;

16.2. создать док-т Повторы в группах.txt
    и вставлять в него строки (полностью),
    в которых обнаружились повторяющиеся слова,
    С УКАЗАНИЕМ строк с ЗС группы и ЗС подгруппы,
    соблюдая следующие правила:
        а. Перед строкой с ЗС ПОДгруппы ставится "!".

        б. Строка с ЗС подгруппы и строка с ЗС группы могут совпадать.
        Строка с повторяющимся словом и строка с ЗС подгруппы могут совпадать.
        Строка с повторяющимся словом, строка с ЗС подгруппы
        и строка с ЗС группы могут совпадать.

        в. ЗС групп располагаются в алфавитном порядке,
        ЗС подгрупп - в том порядке, в котором они находятся в базе.

Примечание 1. Что такое группа, подгруппа, ЗС - см.
в док-те Описание баз.docx .
Что такое невидимка - см. в док-те Структура строки.xlsx ,
вкладка БГ, столбец Слово.

Примечание 2. Обратите внимание на то, что в высланном мной примере
док-та Повторы в группах.txt строки с ЗС группы и с ЗС подгруппы
приведены БЕЗ спец. инфы.
На этот раз я не хочу усложнять задачу, поэтому ВСЕ строки,
включая строки с ЗС группы и с ЗС подгруппы, нужно указывать ПОЛНОСТЬЮ,
со всей имеющейся спец. информацией.

**********
15доп. Проверить каждую строку док-та БГ 23.02.21.txt ,
КРОМЕ строк с ЗС группы и с ЗС подгруппы, на наличие пояснительного примечания.
Что такое пояснительное примечание и чем оно отличается от этимологического
- см. в док-те Структура строки.xlsx , вкладка БГ.
Жду док-т Пояснительные примечания БГ, не-ЗС.txt
- список строк док-та БГ 23.02.21.txt ,
КРОМЕ строк с ЗС группы и с ЗС подгруппы,
у которых имеется пояснительное примечание.

**********
15доп.1. разбить док-т Повторы в группах.txt НА 2 ДОК-ТА:

Повторы в группах. Повторяющиеся строки.txt
    - список строк док-та Повторы в группах.txt
    (КРОМЕ строк с ЗС группы и ЗС подгруппы),
    ПОВТОРЯЮЩИХСЯ в док-те Повторы в группах.txt
    !!!итак, при выполнении данного пункта мы игнорируем
    строки с ЗС группы и ЗС подгруппы и ищем только повторяющиеся строки;
    имеется в виду, повторяется слово и повторяется полностью спец. инфа;
    любые примечания тоже игнорируем!!!

Повторы в группах. Уникальные строки.txt
    - список УНИКАЛЬНЫХ строк док-та Повторы в группах.txt
    (КРОМЕ строк с ЗС группы и ЗС подгруппы)
    !!!итак, при выполнении данного пункта мы игнорируем
    строки с ЗС группы и ЗС подгруппы и ищем только уникальные строки;
    имеется в виду, повторяется слово, в то время как спец. инфа уникальна;
    любые примечания тоже игнорируем!!!

Жду 5 док-тов:
Спец. прим. БС. 1 слово.txt ,
Повторы в группах.txt ,
Пояснительные примечания БГ, не-ЗС.txt ,
Повторы в группах. Повторяющиеся строки.txt ,
Повторы в группах. Уникальные строки.txt .
